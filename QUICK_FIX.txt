â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ” QUICK FIX: Lá»—i "Báº¡n khÃ´ng pháº£i admin"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ Váº¤N Äá»€:
   POST /api/admin/login â†’ 403 "Báº¡n khÃ´ng pháº£i admin"

âœ… GIáº¢I PHÃP (3 BÆ¯á»šC):

1ï¸âƒ£  Táº O ADMIN ACCOUNT
    $ cd music-app-backend
    $ node src/utils/createAdmin.js
    
    Output: âœ… Admin created successfully!

2ï¸âƒ£  KIá»‚M TRA DATABASE
    mysql> SELECT * FROM users WHERE email='admin@gmail.com';
    
    Káº¿t quáº£ pháº£i cÃ³: role = 'admin'

3ï¸âƒ£  TEST API Láº I
    POST http://localhost:5000/api/admin/login
    {
      "email": "admin@gmail.com",
      "password": "123456"
    }
    
    Response: 200 OK + JWT token âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CÃC THAY Äá»”I TRONG CODE:

File: src/controllers/admin.controller.js

âŒ TRÆ¯á»šC:
   const admin = await User.findOne({ email });
   const token = jwt.sign({ id: admin._id, ... });

âœ… SAU:
   const admin = await User.findOne({ where: { email } });
   const token = jwt.sign({ id: admin.id, ... });

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ NGUYÃŠN NHÃ‚N:

1. Admin account khÃ´ng tá»“n táº¡i trong database
2. Hoáº·c role â‰  'admin' (máº·c Ä‘á»‹nh lÃ  'user')
3. Code sá»­ dá»¥ng MongoDB syntax thay vÃ¬ Sequelize

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ Máº¸O:

â€¢ Náº¿u admin Ä‘Ã£ tá»“n táº¡i: xÃ³a rá»“i cháº¡y láº¡i script
  DELETE FROM users WHERE email='admin@gmail.com';

â€¢ Máº­t kháº©u máº·c Ä‘á»‹nh: 123456
  HÃ£y Ä‘á»•i sau khi Ä‘Äƒng nháº­p láº§n Ä‘áº§u!

â€¢ Kiá»ƒm tra .env cÃ³ Ä‘Ãºng DB credentials khÃ´ng

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

